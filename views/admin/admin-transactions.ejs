<!DOCTYPE html>
<html lang="en">
<head>
  <%- include("../baselinks") -%>
</head>
<body>
    <%- include("../header") -%>
    <div class="container">
        <h2>Transaction History</h2>
        <div class="table-responsive">
            <table id="transactionsTable" class="table table-striped table-bordered" cellspacing="0" width="99%">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Time</th>
                        <th scope="col">Item ID</th>
                        <th scope="col">Item Name</th>
                        <th scope="col">Count</th>
                        <th scope="col">Customer ID</th>
                        <th scope="col">Volunteer ID</th>
                        <th scope="col">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <% if (response && response.transactions) {%>
                    <% response.transactions.forEach((trans) => {%>
                    <tr>
                        <td><%= trans.id %></td>
                        <td><%= trans.createdAt.toLocaleString() %></td>
                        <td><%= trans.item_id %></td>
                        <td><%= trans.item_name %></td>
                        <td><%= trans.count %></td>
                        <td><%= trans.onyen %></td>
                        <td><%= trans.volunteer_id %></td>
                        <td><%= trans.status %></td>
                    </tr>
                    <% }); %>
                    <% } %>
                </tbody>
            </table>
            <% if (response && response.error) {%>
            <div class="alert alert-danger">
                <%= response.error%>
            </div>
            <% } %>
        </div>
    </div>
    <%- include("../scripts") -%>
    <script src="/static/js/admin-transactions.js"></script>
</body>
</html>
